/*!  2020-01-10 */

jQuery.expr[":"].parents=function(e,t,n){return jQuery(e).parents(n[3]).length<1},function(o){var s=null,t=null,n=null,d=null,l=null,u=null,p=null,h=null,v=null,a=null,m=null,f=null,S=null,i=null,g=null,y=null,r=null,c=[];function e(t){var n,e;a=o("span").filter(function(){return"1"===o(this).text()}),a=o(a).parent().attr("data-date"),m=a.substring(0,4),f=a.substring(5,7),n=function(e){return t(e)},e={month:f,year:m},e=JSON.stringify(e),void o.ajax({method:"POST",url:"../_serverSide/readMonthlySchedule.php",data:e,async:!0,timeout:0,contentType:"application/json; charset=utf-8"}).done(function(e){return n(e)})}function b(t){var n,e;n=function(e){return t(e)},e={t:"t"},e=JSON.stringify(e),void o.ajax({method:"POST",url:"../_serverSide/readPresentationTables.php",data:e,async:!0,timeout:0,contentType:"application/json; charset=utf-8"}).done(function(e){return n(e)})}function T(e,t){if(""===e&&""===t)return!1;var n=new Date(e+" 12:00:00"),l=new Date(t+" 12:00:00");return!((n=n.getTime())<(l=l.getTime()))}function k(){b(function(e){var t=o('div [class^="presentationEntry"]');!function(e,t,n){for(var l=0;l<e.length;l++){for(var a=0;a<c.length;a++)o(e[l]).children(".startTimeSelect").append(o("<option>",{value:c[a],text:c[a]})),o(e[l]).children(".endTimeSelect").append(o("<option>",{value:c[a],text:c[a]}));for(a=0;a<t.tables.presentationTitles.length;a++)o(e[l]).children(".titleSelect").append(o("<option>",{value:t.tables.presentationTitles[a].index,text:t.tables.presentationTitles[a].title}));for(a=0;a<t.tables.presentationLocation.length;a++)o(e[l]).children(".locationSelect").append(o("<option>",{value:t.tables.presentationLocation[a].index,text:t.tables.presentationLocation[a].locationName}));for(a=0;a<t.tables.presenters.length;a++)o(e[l]).children(".presenterSelect").append(o("<option>",{value:t.tables.presenters[a].index,text:t.tables.presenters[a].Name}));for(a=0;a<t.tables.deploymentLocations.length;a++)o(e[l]).children(".deploymentLocationSelect").append(o("<option>",{value:t.tables.deploymentLocations[a].index,text:t.tables.deploymentLocations[a].deploymentLocation}))}n()}(t,e,function(){!function(e){for(var t=0;t<e.length;t++)switch(t){case 0:o(e[t]).children(".startTimeSelect").val("9:30"),o(e[t]).children(".endTimeSelect").val("10:00"),o(e[t]).children(".titleSelect").val(39),o(e[t]).children(".locationSelect").val(16),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 1:o(e[t]).children(".startTimeSelect").val("10:30"),o(e[t]).children(".endTimeSelect").val("11:00"),o(e[t]).children(".titleSelect").val(22),o(e[t]).children(".locationSelect").val(3),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 2:o(e[t]).children(".startTimeSelect").val("12:00"),o(e[t]).children(".endTimeSelect").val("13:00"),o(e[t]).children(".titleSelect").val(47),o(e[t]).children(".locationSelect").val(15),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 3:o(e[t]).children(".startTimeSelect").val("13:30"),o(e[t]).children(".endTimeSelect").val("14:00"),o(e[t]).children(".titleSelect").val(4),o(e[t]).children(".locationSelect").val(15),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 4:o(e[t]).children(".startTimeSelect").val("14:00"),o(e[t]).children(".endTimeSelect").val("14:30"),o(e[t]).children(".titleSelect").val(36),o(e[t]).children(".locationSelect").val(15),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 5:o(e[t]).children(".startTimeSelect").val("14:30"),o(e[t]).children(".endTimeSelect").val("15:00"),o(e[t]).children(".titleSelect").val(5),o(e[t]).children(".locationSelect").val(10),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 6:o(e[t]).children(".startTimeSelect").val("15:30"),o(e[t]).children(".endTimeSelect").val("16:00"),o(e[t]).children(".titleSelect").val(18),o(e[t]).children(".locationSelect").val(10),o(e[t]).children(".deploymentLocationSelect").val(1);break;case 7:o(e[t]).children(".startTimeSelect").val("17:00"),o(e[t]).children(".endTimeSelect").val("17:30"),o(e[t]).children(".titleSelect").val(33),o(e[t]).children(".locationSelect").val(13),o(e[t]).children(".deploymentLocationSelect").val(1)}}(t)})})}function L(){s=o(".fc-day-number").filter(":parents(.fc-past-month)").filter(":parents(.fc-other-month)").filter(":parents(.fc-future-month)"),e(function(e){for(var t=null,n=null,l=null,a=0;a<=s.length;a++)if(1<=e.length){for(var i=!1,r=0;r<e.length;r++){t=m+"-"+f+"-"+o(s[a]).html(),l=o(s[a]).html(),n=T(e[r].scheduledDate,t);var c=e[r].scheduledDate.substring(8,10);if("0"===c[0]&&(c=c[1]),parseInt(S)<=parseInt(c)&&c===l?(d="<span class=\"scheduledEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",i=!0):n&&c===l&&(d="<span class=\"archivedEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",i=!0),i){o(s[a]).after(d);break}}i||(d="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",o(s[a]).after(d))}else d="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",o(s[a]).after(d);!function(e){if(u=o(".noEventCircleMarker"),p=o(".archivedEventCircleMarker"),h=o(".scheduledEventCircleMarker"),v=o("#schedulingToolDateSelect"),e)e()}(function(){o(u).click(function(e){o(y).html(""),D(0),E(e),function(e,t){for(var n=0;n<e;n++){var l="<button class='submitEventLineButton"+n+"' >Submit</button>";y.append("<div class='presentationEntry"+n+"'>"+g+l+"</div>")}t()}(8,function(){k(),o(".modifyPresentationEntry").hide(),o("#toolBar").removeClass("hidden")})}),o(h).click(function(e){o(y).html(""),D(0),E(e),o(".deletePresentationEntry").hide(),o("#toolBar").removeClass("hidden")}),o(p).click(function(e){o(y).html(""),D(0),E(e),o(".deletePresentationEntry").hide(),o(".modifyPresentationEntry").hide(),o("#toolBar").addClass("hidden")}),setTimeout(C,1e3)})})}function C(){o(".deletePresentationEntry").click(function(){o(this).parent().remove()}),o(".modifyPresentationEntry").click(function(e){e.preventDefault(),e.stopImmediatePropagation()}),o(".addEntry").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),o("#addEntryButton").trigger("click")}),o("#addEntryButton").click(function(e){e.preventDefault(),e.stopImmediatePropagation()}),o(".editSelections").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),o("#editSelectionsButton").trigger("click")}),o("#editSelectionsButton").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),console.log("edit selections")}),o(".submitAllPresentations").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),o("#submitAllPresentationsButton").trigger("click")}),o("#submitAllPresentationsButton").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),console.log("submit all presentations")}),o('button[class^="submitEventLineButton"]').click(function(e){e.preventDefault(),e.stopImmediatePropagation()})}function E(e){e.preventDefault(),e.stopImmediatePropagation(),o(e.target).hasClass("eventMarkerLabel")&&(e.target=o(e.target).parent());var t="<option selected >"+function(e,t){e+=" 12:00:00";var n=new Date(e),l=n.getDay(),a=n.getMonth(),i=n.getFullYear();return n=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}(l)+" "+P(a)+"/"+t+"/"+i}(o(e.target).parent().attr("data-date"),o(e.target).siblings().html())+"</option>";o(v).html(t)}function P(e){return e+1}function D(e){o(r).html(e)}o(document).ready(function(){var e;if(c=["6:00","6:15","6:30","6:45","7:00","7:15","7:30","7:45","8:00","8:15","8:30","8:45","9:00","9:15","9:30","9:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],e='<select  class="schedulingToolSelect left startTimeSelect" ><option selected="">Start Time</option></select>',e+='<select  class="schedulingToolSelect left endTimeSelect" ><option selected="">End Time</option></select>',e+='<select  class="schedulingToolSelect left titleSelect" ><option selected="">Title</option></select>',e+='<select  class="schedulingToolSelect left locationSelect"><option selected="">Location</option></select>',e+='<select  class="schedulingToolSelect left presenterSelect"><option selected="">Presenter</option></select>',g="<span class='deletePresentationEntry left'><span class='controlLabel'>-</span></span><span class='modifyPresentationEntry left'><span class='controlLabel'>Y</span></span>"+(e+='<select  class="schedulingToolSelect left deploymentLocationSelect"><option selected="">Screen Location</option></select>'),i=new Date,S=i.getDate().toString(),i=i.getFullYear()+"-"+P(i.getMonth())+"-"+i.getDate(),t=document.getElementById("calendar"),n=new FullCalendar.Calendar(t,{plugins:["dayGrid"],showNonCurrentDates:!1}),!t)return console.log("Error: Could not create Calendar : schedulingCalendar.js");n.render(),y=o("#presentationEntryContainer"),r=o("#presentationNumberSpan"),L(),l=document.getElementsByClassName("fc-button"),o(l).click(function(e){L()})})}((window,jQuery=window.jQuery||{}));