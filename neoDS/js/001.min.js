/*!  2020-01-09 */

jQuery.expr[":"].parents=function(e,t,n){return jQuery(e).parents(n[3]).length<1},function(i){var c=null,t=null,n=null,u=null,a=null,d=null,p=null,f=null,h=null,l=null,g=null,v=null,m=null,r=null,y=null,S=null,s=null,o=[];function e(t){var n,e;l=i("span").filter(function(){return"1"===i(this).text()}),l=i(l).parent().attr("data-date"),g=l.substring(0,4),v=l.substring(5,7),n=function(e){return t(e)},e={month:v,year:g},e=JSON.stringify(e),void i.ajax({method:"POST",url:"../_serverSide/readMonthlySchedule.php",data:e,async:!0,timeout:0,contentType:"application/json; charset=utf-8"}).done(function(e){return n(e)})}function T(t){var n,e;n=function(e){return t(e)},e={t:"t"},e=JSON.stringify(e),void i.ajax({method:"POST",url:"../_serverSide/readPresentationTables.php",data:e,async:!0,timeout:0,contentType:"application/json; charset=utf-8"}).done(function(e){return n(e)})}function b(e,t){if(""===e&&""===t)return!1;var n=new Date(e+" 12:00:00"),a=new Date(t+" 12:00:00");return!((n=n.getTime())<(a=a.getTime()))}function C(){T(function(e){!function(e,t){for(var n=0;n<e.length;n++){for(var a=0;a<o.length;a++)i(e[n]).children(".startTimeSelect").append(i("<option>",{value:o[a],text:o[a]})),i(e[n]).children(".endTimeSelect").append(i("<option>",{value:o[a],text:o[a]}));for(a=0;a<t.tables.presentationTitles.length;a++)i(e[n]).children(".titleSelect").append(i("<option>",{value:t.tables.presentationTitles[a].index,text:t.tables.presentationTitles[a].title}))}}(i('div [class^="presentationEntry"]'),e)})}function E(){c=i(".fc-day-number").filter(":parents(.fc-past-month)").filter(":parents(.fc-other-month)").filter(":parents(.fc-future-month)"),e(function(e){for(var t=null,n=null,a=null,l=0;l<=c.length;l++)if(1<=e.length){for(var r=!1,s=0;s<e.length;s++){t=g+"-"+v+"-"+i(c[l]).html(),a=i(c[l]).html(),n=b(e[s].scheduledDate,t);var o=e[s].scheduledDate.substring(8,10);if("0"===o[0]&&(o=o[1]),parseInt(m)<=parseInt(o)&&o===a?(u="<span class=\"scheduledEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",r=!0):n&&o===a&&(u="<span class=\"archivedEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",r=!0),r){i(c[l]).after(u);break}}r||(u="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",i(c[l]).after(u))}else u="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",i(c[l]).after(u);!function(e){if(d=i(".noEventCircleMarker"),p=i(".archivedEventCircleMarker"),f=i(".scheduledEventCircleMarker"),h=i("#schedulingToolDateSelect"),e)e()}(function(){i(d).click(function(e){i(S).html(""),P(0),M(e),function(e,t){for(var n=0;n<e;n++){var a="<button class='submitEventLineButton"+n+"' >Submit</button>";S.append("<div class='presentationEntry"+n+"'>"+y+a+"</div>")}t()}(9,function(){C(),P(9),i(".modifyPresentationEntry").hide(),i('button[class^="submitEventLineButton"]').click(function(e){e.preventDefault(),e.stopImmediatePropagation()})})}),i(f).click(function(e){i(S).html(""),P(0),M(e),i(".deletePresentationEntry").hide()}),i(p).click(function(e){i(S).html(""),P(0),M(e),i(".deletePresentationEntry").hide(),i(".modifyPresentationEntry").hide(),i(".addPresentationEntry").hide()})})})}function M(e){e.preventDefault(),e.stopImmediatePropagation(),i(e.target).hasClass("eventMarkerLabel")&&(e.target=i(e.target).parent());var t="<option selected >"+function(e,t){e+=" 12:00:00";var n=new Date(e),a=n.getDay(),l=n.getMonth(),r=n.getFullYear();return n=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}(a)+" "+k(l)+"/"+t+"/"+r}(i(e.target).parent().attr("data-date"),i(e.target).siblings().html())+"</option>";i(h).html(t)}function k(e){return e+1}function P(e){i(s).html(e)}i(document).ready(function(){var e;if(o=["6:00","6:15","6:30","6:45","7:00","7:15","7:30","7:45","8:00","8:15","8:30","8:45","9:00","9:15","9:30","9:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],console.log("time Values : "+o),e='<select  class="schedulingToolSelect left startTimeSelect" ><option selected="">Start Time</option></select>',e+='<select  class="schedulingToolSelect left endTimeSelect" ><option selected="">End Time</option></select>',e+='<select  class="schedulingToolSelect left titleSelect" ><option selected="">Presentation Title</option></select>',e+='<select  class="schedulingToolSelect left locationSelect"><option selected="">Location</option></select>',e+='<select  class="schedulingToolSelect left presenterSelect"><option selected="">Presenter</option></select>',y="<span class='deletePresentationEntry left'><span class='controlLabel'>-</span></span><span class='modifyPresentationEntry left'><span class='controlLabel'>Y</span></span>"+(e+='<select  class="schedulingToolSelect left deploymentLocationSelect"><option selected="">Screen Location</option></select>'),r=new Date,m=r.getDate().toString(),r=r.getFullYear()+"-"+k(r.getMonth())+"-"+r.getDate(),t=document.getElementById("calendar"),n=new FullCalendar.Calendar(t,{plugins:["dayGrid"],showNonCurrentDates:!1}),!t)return console.log("Error: Could not create Calendar : schedulingCalendar.js");n.render(),S=i("#presentationEntryContainer"),s=i("#presentationNumberSpan"),E(),a=document.getElementsByClassName("fc-button"),i(a).click(function(e){E()})})}((window,jQuery=window.jQuery||{}));