/*!  2020-01-07 */

jQuery.expr[":"].parents=function(e,t,n){return jQuery(e).parents(n[3]).length<1},function(o){var c,u=null,t=null,n=null,d=null,l=null,p=null,f=null,h=null,g=null,a=null,y=null,v=null,m=null,r=null,C=null;function e(t){var n,e;a=o("span").filter(function(){return"1"===o(this).text()}),a=o(a).parent().attr("data-date"),y=a.substring(0,4),v=a.substring(5,7),n=function(e){return t(e)},e={month:v,year:y},e=JSON.stringify(e),void o.ajax({method:"POST",url:"../_serverSide/readMonthlySchedule.php",data:e,async:!0,timeout:0,contentType:"application/json; charset=utf-8"}).done(function(e){return n(e)})}function S(e,t){if(""===e&&""===t)return!1;var n=new Date(e+" 12:00:00"),l=new Date(t+" 12:00:00");return n.getTime()>=l.getTime()}function s(){u=o(".fc-day-number").filter(":parents(.fc-past-month)").filter(":parents(.fc-other-month)").filter(":parents(.fc-future-month)"),e(function(e){for(var t=null,n=null,l=null,a=0;a<=u.length;a++)if(1<=e.length){for(var r=!1,s=0;s<e.length;s++){t=y+"-"+v+"-"+o(u[a]).html(),l=o(u[a]).html(),n=S(e[s].scheduledDate,t);var i=e[s].scheduledDate.substring(8,10);if("0"===i[0]&&(i=i[1]),m!==l&&i===l?(d="<span class=\"archivedEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",r=!0):m===l&&n&&(d="<span class=\"scheduledEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",r=!0),r){o(u[a]).after(d);break}}r||(d="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",o(u[a]).after(d))}else d="<span class=\"noEventCircleMarker relativelyCentered topMargin20\"><span class='eventMarkerLabel'>SCI</span></span>",o(u[a]).after(d);!function(e){if(p=o(".noEventCircleMarker"),f=o(".archivedEventCircleMarker"),h=o(".scheduledEventCircleMarker"),g=o("#schedulingToolDateSelect"),e)e()}(function(){o(p).click(function(e){o(c).html(""),T(e),function(e){for(var t=0;t<e;t++)c.append("<div class='presentationEntry"+t+"'>"+C+"</div>")}(9),o(".modifyPresentationEntry").hide()}),o(h).click(function(e){o(c).html(""),T(e),o(".deletePresentationEntry").hide()}),o(f).click(function(e){o(c).html(""),T(e),o(".deletePresentationEntry").hide(),o(".modifyPresentationEntry").hide(),o(".addPresentationEntry").hide()})})})}function T(e){e.preventDefault(),e.stopImmediatePropagation(),o(e.target).hasClass("eventMarkerLabel")&&(e.target=o(e.target).parent());var t="<option selected >"+function(e,t){e+=" 12:00:00";var n=new Date(e),l=n.getDay(),a=n.getMonth(),r=n.getFullYear();return n=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}(l)+" "+i(a)+"/"+t+"/"+r}(o(e.target).parent().attr("data-date"),o(e.target).siblings().html())+"</option>";o(g).html(t)}function i(e){return e+1}o(document).ready(function(){var e;if(e='<select id="schedulingToolStartTimeSelect" class="schedulingToolSelect left" ><option selected="">Start Time</option></select>',e+='<select id="schedulingToolEndTimeSelect" class="schedulingToolSelect left" ><option selected="">End Time</option></select>',e+='<select id="schedulingToolTitleSelect" class="schedulingToolSelect left" ><option selected="">Presentation Title</option></select>',e+='<select id="schedulingToolLocationSelect" class="schedulingToolSelect left"><option selected="">Location</option></select>',C="<span class='deletePresentationEntry left'><span class='controlLabel'>-</span></span><span class='modifyPresentationEntry left'><span class='controlLabel'>Y</span></span>"+(e+='<select id="schedulingToolPresenterSelect" class="schedulingToolSelect left"><option selected="">Presenter</option></select>'),r=new Date,m=r.getDate().toString(),r=r.getFullYear()+"-"+i(r.getMonth())+"-"+r.getDate(),t=document.getElementById("calendar"),n=new FullCalendar.Calendar(t,{plugins:["dayGrid"],showNonCurrentDates:!1}),!t)return console.log("Error: Could not create Calendar : schedulingCalendar.js");n.render(),c=o("#presentationEntryContainer"),s(),l=document.getElementsByClassName("fc-button"),o(l).click(function(e){s()})})}((window,jQuery=window.jQuery||{}));